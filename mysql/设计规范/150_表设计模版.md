# 表设计模版

## 基础资料表

```sql
-- AUTO_INCREMENT 必须改成 1
-- DROP TABLE IF EXISTS `bas_size`;
CREATE TABLE `bas_size` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '行ID(主键)',
  `size_no` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '尺码编号',
  `size_name` varchar(30) COLLATE utf8_bin NOT NULL COMMENT '尺码名称',
  `order_no` smallint(6) DEFAULT NULL COMMENT '排列序号',
  `status` smallint(6) NOT NULL DEFAULT '1' COMMENT '状态(0=未生效 1=启用 2=作废)',
  `creator` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '建档人',
  `create_time` datetime NOT NULL COMMENT '建档时间',
  `modifier` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '修改人(对应 editor )',
  `modify_time` datetime DEFAULT NULL COMMENT '修改时间(对应 edittm )',
  `remarks` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '备注(对应 remarks )',
  `del_tag` varchar(2) COLLATE utf8_bin NOT NULL DEFAULT '0' COMMENT 'otter 数据同步标志(0=同步 1=不同步)',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_bas_size` (`size_no`)
) ENGINE=InnoDB AUTO_INCREMENT=1 DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='尺码信息表';
```

## 单据表

```sql
-- DROP TABLE IF EXISTS `bl_mo`;
CREATE TABLE `bl_mo` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '行ID(主键)',
  `bill_no` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '单据编号',
  `bill_type_no` varchar(10) COLLATE utf8_bin NOT NULL COMMENT '单据类型',
  `bill_status` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '单据状态(取数据字典 bill_status)',
  `creator` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '建档人',
  `create_time` datetime NOT NULL COMMENT '建档时间',
  `modifier` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '修改人',
  `modify_time` datetime DEFAULT NULL COMMENT '修改时间',
  `auditor` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '审核人',
  `audit_time` datetime DEFAULT NULL COMMENT '审核时间',
  `remarks` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '备注',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',
  `del_tag` varchar(2) COLLATE utf8_bin NOT NULL DEFAULT '0' COMMENT 'otter 数据同步标志(0=同步 1=不同步)',
  `sync_data_sign` smallint(6) NOT NULL DEFAULT '1' COMMENT '数据同步标志(1=同步 0=不同步)',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_bl_mo` (`bill_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='生产加工单主表';

-- DROP TABLE IF EXISTS `bl_mo_dtl`;
CREATE TABLE `bl_mo_dtl` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '行ID(主键)',
  `bill_no` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '单据编号',
  `size_no` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '尺码',
  `size_qty` int(11) NOT NULL COMMENT '尺码数量',
  `finish_qty` int(11) DEFAULT NULL COMMENT '制造数(完工数)',
  `del_tag` varchar(2) COLLATE utf8_bin NOT NULL DEFAULT '0' COMMENT 'otter 数据同步标志(0=同步 1=不同步)',
  `sync_data_sign` smallint(6) NOT NULL DEFAULT '1' COMMENT '数据同步标志(1=同步 0=不同步)',
  `trans_bill_no` varchar(30) COLLATE utf8_bin DEFAULT NULL COMMENT '数据迁移传输单号',
  `is_trans` smallint(6) DEFAULT '0' COMMENT '是否需要数据迁移(0=否 1=是)',
  PRIMARY KEY (`line_id`),
  UNIQUE KEY `uk_bl_mo_dtl` (`bill_no`,`size_no`),
  KEY `idx_bl_mo_dtl_update_time` (`update_time`),
  KEY `idx_trans_bill_no` (`trans_bill_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='生产加工单明细表';
```


## 无限分级表

```sql
-- DROP TABLE IF EXISTS `bas_category`;
CREATE TABLE `bas_category` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT '行ID(主键)',
  `category_no` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '类别编号',
  `category_name` varchar(30) COLLATE utf8_bin NOT NULL COMMENT '类别名称',
  `parent_category_no` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '上级类别编号',
  `level_no` int(11) NOT NULL COMMENT '类别级别',
  `search_code` varchar(200) COLLATE utf8_bin NOT NULL COMMENT '类别路径',
  `order_no` smallint(6) DEFAULT NULL COMMENT '排列序号',
  `status` smallint(6) NOT NULL DEFAULT '1' COMMENT '状态(0=未生效 1=启用 2=作废)',
  `creator` varchar(20) COLLATE utf8_bin NOT NULL COMMENT '建档人',
  `create_time` datetime NOT NULL COMMENT '建档时间',
  `modifier` varchar(20) COLLATE utf8_bin DEFAULT NULL COMMENT '修改人',
  `modify_time` datetime DEFAULT NULL COMMENT '修改时间',
  `remarks` varchar(100) COLLATE utf8_bin DEFAULT NULL COMMENT '备注',
  `del_tag` varchar(2) COLLATE utf8_bin NOT NULL DEFAULT '0' COMMENT 'otter 数据同步标志(0=同步 1=不同步)',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '记录更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uk_bas_category` (`category_no`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_bin COMMENT='类别信息表';
```